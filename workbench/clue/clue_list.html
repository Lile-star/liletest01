<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">

		<link href="../../resource/assets/css/bootstrap.min.css" type="text/css" rel="stylesheet" />
		<link href="../../resource/assets/css/bootstrap-datetimepicker.min.css" type="text/css" rel="stylesheet" />

		<script type="text/javascript" src="../../resource/assets/js/jquery-1.11.3.min.js"></script>
		<script type="text/javascript" src="../../resource/assets/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="../../resource/assets/js/bootstrap-datetimepicker.min.js"></script>
		<!-- <script type="text/javascript" src="bootstrap-datetimepicker.zh-CN.js"></script> -->

		<script type="text/javascript">
			$(function() {



			});
		</script>
	</head>
	<body>
		<div id="app">


			<!-- 创建线索的模态窗口 -->
			<div class="modal fade" id="createClueModal" role="dialog">
				<div class="modal-dialog" role="document" style="width: 90%;">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal">
								<span aria-hidden="true">×</span>
							</button>
							<h4 class="modal-title" id="myModalLabel">创建线索</h4>
						</div>
						<div class="modal-body">
							<form class="form-horizontal" role="form">

								<div class="form-group">

									<label for="create-company" class="col-sm-2 control-label">公司<span style="font-size: 15px; color: red;">*</span></label>
									<div class="col-sm-10" style="width: 300px;">
										<input type="text" class="form-control" id="create-company" v-model="addClue.company">
									</div>
									<label for="create-mphone" class="col-sm-2 control-label">手机</label>
									<div class="col-sm-10" style="width: 300px;">
										<input type="text" class="form-control" id="create-mphone" v-model="addClue.mphone">
									</div>
								</div>

								<div class="form-group">
									<label for="create-call" class="col-sm-2 control-label">称呼</label>
									<div class="col-sm-10" style="width: 300px;">
								
										<select class="form-control" v-model="addClue.appellation">
											<option v-for="appe in appellationList" v-bind:value="appe.id">{{appe.value}}</option>
										</select>
									</div>
									<label for="create-surname" class="col-sm-2 control-label">姓名<span style="font-size: 15px; color: red;">*</span></label>
									<div class="col-sm-10" style="width: 300px;">
										<input type="text" class="form-control" id="create-surname" v-model="addClue.fullName">
									</div>
								</div>

								<div class="form-group">
									<label for="create-job" class="col-sm-2 control-label">职位</label>
									<div class="col-sm-10" style="width: 300px;">
										<input type="text" class="form-control" id="create-job" v-model="addClue.job">
									</div>
									<label for="create-email" class="col-sm-2 control-label">邮箱</label>
									<div class="col-sm-10" style="width: 300px;">
										<input type="text" class="form-control" id="create-email" v-model="addClue.email">
									</div>
								</div>

								<div class="form-group">
									<label for="create-phone" class="col-sm-2 control-label">公司座机</label>
									<div class="col-sm-10" style="width: 300px;">
										<input type="text" class="form-control" id="create-phone" v-model="addClue.phone">
									</div>
									<label for="create-website" class="col-sm-2 control-label">公司网站</label>
									<div class="col-sm-10" style="width: 300px;">
										<input type="text" class="form-control" id="create-website" v-model="addClue.website">
									</div>
								</div>

								<div class="form-group">
									<label for="create-source" class="col-sm-2 control-label">线索来源</label>
									<div class="col-sm-10" style="width: 300px;">
										<select class="form-control" v-model="addClue.source">
										
											<option v-for="so in sourceList" v-bind:value="so.id">{{so.value}}</option>
										</select>
									</div>
									<label for="create-status" class="col-sm-2 control-label">线索状态</label>
									<div class="col-sm-10" style="width: 300px;">
										<select class="form-control" v-model="addClue.state">
											
											<option v-for="cs in clueStateList" v-bind:value="cs.id">{{cs.value}}</option>
										</select>
									</div>
								</div>

							

								<div class="form-group">
									<label for="create-describe" class="col-sm-2 control-label">线索描述</label>
									<div class="col-sm-10" style="width: 81%;">
										<textarea class="form-control" rows="3" id="create-describe" v-model="addClue.description"></textarea>
									</div>
								</div>

								<div style="height: 1px; width: 103%; background-color: #D5D5D5; left: -13px; position: relative;"></div>

								<div style="position: relative;top: 15px;">
									<div class="form-group">
										<label for="create-contactSummary" class="col-sm-2 control-label">联系纪要</label>
										<div class="col-sm-10" style="width: 81%;">
											<textarea class="form-control" rows="3" id="create-contactSummary" v-model="addClue.contactSummary"></textarea>
										</div>
									</div>
									<div class="form-group">
										<label for="create-nextContactTime" class="col-sm-2 control-label">下次联系时间</label>
										<div class="col-sm-10" style="width: 300px;">
											<input type="text" class="form-control" id="create-nextContactTime" v-model="addClue.nextContactTime">
										</div>
									</div>
								</div>

								<div style="height: 1px; width: 103%; background-color: #D5D5D5; left: -13px; position: relative; top : 10px;"></div>

								<div style="position: relative;top: 20px;">
									<div class="form-group">
										<label for="create-address" class="col-sm-2 control-label">详细地址</label>
										<div class="col-sm-10" style="width: 81%;">
											<textarea class="form-control" rows="1" id="create-address" v-model="addClue.address"></textarea>
										</div>
									</div>
								</div>
							</form>

						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
							<button type="button" class="btn btn-primary" data-dismiss="modal" v-on:click="addClueFun()">保存</button>
						</div>
					</div>
				</div>
			</div>

			<!-- 修改线索的模态窗口 -->
			<div class="modal fade" id="editClueModal" role="dialog">
				<div class="modal-dialog" role="document" style="width: 90%;">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal">
								<span aria-hidden="true">×</span>
							</button>
							<h4 class="modal-title">修改线索</h4>
						</div>
						<div class="modal-body">
							<form class="form-horizontal" role="form">

								<div class="form-group">
									
									<label for="edit-company" class="col-sm-2 control-label">公司<span style="font-size: 15px; color: red;">*</span></label>
									<div class="col-sm-10" style="width: 300px;">
										<input type="text" class="form-control" id="edit-company" value="动力节点" v-model="updateClue.company">
									</div>
									<label for="edit-mphone" class="col-sm-2 control-label">手机</label>
									<div class="col-sm-10" style="width: 300px;">
										<input type="text" class="form-control" id="edit-mphone" value="12345678901" v-model="updateClue.mphone">
									</div>
								</div>

								<div class="form-group">
									<label for="edit-call" class="col-sm-2 control-label">称呼</label>
									<div class="col-sm-10" style="width: 300px;">
										<select class="form-control" id="edit-call"  v-model="updateClue.appellation">
												<option v-for="appe in appellationList" v-bind:value="appe.id">{{appe.value}}</option>
										</select>
									</div>
									<label for="edit-surname" class="col-sm-2 control-label">姓名<span style="font-size: 15px; color: red;">*</span></label>
									<div class="col-sm-10" style="width: 300px;">
										<input type="text" class="form-control" id="edit-surname" value="李四"  v-model="updateClue.fullName">
									</div>
								</div>

								<div class="form-group">
									<label for="edit-job" class="col-sm-2 control-label">职位</label>
									<div class="col-sm-10" style="width: 300px;">
										<input type="text" class="form-control" id="edit-job" value="CTO"  v-model="updateClue.job">
									</div>
									<label for="edit-email" class="col-sm-2 control-label">邮箱</label>
									<div class="col-sm-10" style="width: 300px;">
										<input type="text" class="form-control" id="edit-email" value="lisi@bjpowernode.com"  v-model="updateClue.email">
									</div>
								</div>

								<div class="form-group">
									<label for="edit-phone" class="col-sm-2 control-label">公司座机</label>
									<div class="col-sm-10" style="width: 300px;">
										<input type="text" class="form-control" id="edit-phone" value="010-84846003"  v-model="updateClue.phone">
									</div>
									<label for="edit-website" class="col-sm-2 control-label">公司网站</label>
									<div class="col-sm-10" style="width: 300px;">
										<input type="text" class="form-control" id="edit-website" value="http://www.bjpowernode.com"  v-model="updateClue.website">
									</div>
								</div>

								<div class="form-group">
									
									<label for="edit-status" class="col-sm-2 control-label">线索状态</label>
									<div class="col-sm-10" style="width: 300px;">
										<select class="form-control"  v-model="updateClue.state" >
											
											<option v-for="cs in clueStateList" v-bind:value="cs.id">{{cs.value}}</option>
										</select>
									</div>
									<label for="edit-source" class="col-sm-2 control-label">线索来源</label>
									<div class="col-sm-10" style="width: 300px;">
										<select class="form-control"  v-model="updateClue.source">
											<option v-for="so in sourceList" v-bind:value="so.id">{{so.value}}</option>
										</select>
									</div>
								</div>

								

								<div class="form-group">
									<label for="edit-describe" class="col-sm-2 control-label">描述</label>
									<div class="col-sm-10" style="width: 81%;">
										<textarea class="form-control" rows="3" id="edit-describe"  v-model="updateClue.description">这是一条线索的描述信息</textarea>
									</div>
								</div>

								<div style="height: 1px; width: 103%; background-color: #D5D5D5; left: -13px; position: relative;"></div>

								<div style="position: relative;top: 15px;">
									<div class="form-group">
										<label for="edit-contactSummary" class="col-sm-2 control-label">联系纪要</label>
										<div class="col-sm-10" style="width: 81%;">
											<textarea class="form-control" rows="3" id="edit-contactSummary"  v-model="updateClue.contactSummary">这个线索即将被转换</textarea>
										</div>
									</div>
									<div class="form-group">
										<label for="edit-nextContactTime" class="col-sm-2 control-label">下次联系时间</label>
										<div class="col-sm-10" style="width: 300px;">
											<input type="text" class="form-control" id="edit-nextContactTime" value="2017-05-01"  v-model="updateClue.nextContactTime">
										</div>
									</div>
								</div>

								<div style="height: 1px; width: 103%; background-color: #D5D5D5; left: -13px; position: relative; top : 10px;"></div>

								<div style="position: relative;top: 20px;">
									<div class="form-group">
										<label for="edit-address" class="col-sm-2 control-label">详细地址</label>
										<div class="col-sm-10" style="width: 81%;">
											<textarea class="form-control" rows="1" id="edit-address"  v-model="updateClue.address">北京大兴区大族企业湾</textarea>
										</div>
									</div>
								</div>
							</form>

						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
							<button type="button" class="btn btn-primary" data-dismiss="modal" v-on:click="updateClueFun()">更新</button>
						</div>
					</div>
				</div>
			</div>




			<div>
				<div style="position: relative; left: 10px; top: -10px;">
					<div class="page-header">
						<h3>线索列表</h3>
					</div>
				</div>
			</div>

			<div style="position: relative; top: -20px; left: 0px; width: 100%; height: 100%;">

				<div style="width: 100%; position: absolute;top: 5px; left: 10px;">

					<div class="btn-toolbar" role="toolbar" style="height: 80px;">
						<form class="form-inline" role="form" style="position: relative;top: 8%; left: 5px;">

							<div class="form-group">
								<div class="input-group">
									<div class="input-group-addon">名称</div>
									<input class="form-control" type="text" v-model="fullName">
								</div>
							</div>

							<div class="form-group">
								<div class="input-group">
									<div class="input-group-addon">公司</div>
									<input class="form-control" type="text" v-model="company">
								</div>
							</div>

							<div class="form-group">
								<div class="input-group">
									<div class="input-group-addon">公司座机</div>
									<input class="form-control" type="text" v-model="phone">
								</div>
							</div>

							<div class="form-group">
								<div class="input-group">
									<div class="input-group-addon">线索来源</div>
									<select class="form-control" v-model="source">
										<option value=""></option>
										<option v-for="so in sourceList" v-bind:value="so.id">{{so.value}}</option>
									</select>
								</div>
							</div>

							<br>

							<div class="form-group">
								<div class="input-group">
									<div class="input-group-addon">所有者</div>
									<input class="form-control" type="text" v-model="owner">
								</div>
							</div>



							<div class="form-group">
								<div class="input-group">
									<div class="input-group-addon">手机</div>
									<input class="form-control" type="text" v-model="mphone">
								</div>
							</div>

							<div class="form-group">
								<div class="input-group">
									<div class="input-group-addon">线索状态</div>
									<select class="form-control" v-model="clueState">
										<option value=""></option>
										<option v-for="cs in clueStateList" v-bind:value="cs.id">{{cs.value}}</option>
									</select>
								</div>
								<button type="button" class="btn btn-default" v-on:click="setParams()">查询</button>
							</div>



						</form>
					</div>
					<div class="btn-toolbar" role="toolbar" style="background-color: #F7F7F7; height: 50px; position: relative;top: 40px;">
						<div class="btn-group" style="position: relative; top: 18%;">
							<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#createClueModal"><span class="glyphicon glyphicon-plus"></span>
								创建</button>
							<button type="button" v-on:click="toUpdateClue()" class="btn btn-default" data-toggle="modal" ><span class="glyphicon glyphicon-pencil"></span>
								修改</button>
							<button type="button" class="btn btn-danger" v-on:click="deleteClue()"><span class="glyphicon glyphicon-minus"></span> 删除</button>
						</div>


					</div>
					<div style="position: relative;top: 50px;">
						<table class="table table-hover">
							<thead>
								<tr style="color: #B3B3B3;">
									<td><input type="checkbox" /></td>
									<td>名称</td>
									<td>公司</td>
									<td>公司座机</td>
									<td>手机</td>
									<td>线索来源</td>
									<td>所有者</td>
									<td>线索状态</td>
								</tr>
							</thead>
							<tbody>
								<tr v-for="c in clueList">
									<td><input type="checkbox" v-bind:value="c.id"  v-model="clueIds"/></td>
									<td><a style="text-decoration: none; cursor: pointer;" v-on:click="showClueDetail(c.id)">{{c.full_name}}{{c.appellation}}</a></td>
									<td>{{c.company}}</td>
									<td>{{c.phone}}</td>
									<td>{{c.mphone}}</td>
									<td>{{c.source}}</td>
									<td>{{c.owner}}</td>
									<td>{{c.state}}</td>
								</tr>
								
							</tbody>
						</table>
					</div>

					<div style="height: 50px; position: relative;top: 60px;">
						<div>
							<button type="button" class="btn btn-default" style="cursor: default;">共<b>{{total}}</b>条记录</button>
						</div>
						<div class="btn-group" style="position: relative;top: -34px; left: 110px;">
							<button type="button" class="btn btn-default" style="cursor: default;">显示</button>
							<div class="btn-group">
								<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
									{{pageSize}}
									<span class="caret"></span>
								</button>
								<ul class="dropdown-menu" role="menu">
									<li><a href="javascript:void(0)" v-on:click="setPageSize(5)">5</a></li>
									<li><a href="javascript:void(0)" v-on:click="setPageSize(10)">10</a></li>
								</ul>
							</div>
							<button type="button" class="btn btn-default" style="cursor: default;">条/页</button>
						</div>
						<div style="position: relative;top: -88px; left: 285px;">
							<nav>
								<ul class="pagination">
									<li v-bind:class="upDisable"><a href="javascript:void(0)" v-on:click="nextPage(1)">首页</a></li>
									<li v-bind:class="upDisable"><a href="javascript:void(0)" v-on:click="nextPage(pageNumber-1)">上一页</a></li>
									<li class="active"><a href="#">1</a></li>
									<li><a href="#">2</a></li>
									<li><a href="#">3</a></li>
									<li><a href="#">4</a></li>
									<li><a href="#">5</a></li>
									<li v-bind:class="nextDisable"><a href="javascript:void(0)" v-on:click="nextPage(pageNumber+1)">下一页</a></li>
									<li v-bind:class="nextDisable"><a href="javascript:void(0)" v-on:click="nextPage(pageCount)">末页</a></li>
								</ul>
							</nav>
						</div>
					</div>

				</div>

			</div>
		</div>
		<script src="../../resource/vue/vue.min.js"></script>
		<script src="../../resource/vue/axios.min.js"></script>
	</body>
	<script src="../../resource/js/workbench/clue/clue_list.js"></script>
</html>
